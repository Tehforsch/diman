[package]
name = "diman"
version = "0.1.0"
edition = "2021"

[features]
glam = ["dep:glam", "unit_system/glam"]
glam-vec2 = ["glam", "f32", "unit_system/glam-vec2"]
glam-dvec2 = ["glam", "f64", "unit_system/glam-dvec2"]
glam-vec3 = ["glam", "f32", "unit_system/glam-vec3"]
glam-dvec3 = ["glam", "f64", "unit_system/glam-dvec3"]
f32 = ["unit_system/f32"]
f64 = ["unit_system/f64"]
gen-vec-names = ["unit_system/gen-vec-names"]
si = []

mpi = ["dep:once_cell", "dep:mpi", "unit_system/mpi"]
hdf5 = ["dep:hdf5", "unit_system/hdf5"]
rand = ["dep:rand", "unit_system/rand"]
serde = ["dep:serde", "unit_system/serde"]
default = ["f32", "f64", "si"]

[lib]

[dependencies]
paste = "1.0.8"
glam = { version = "0.21.3", optional = true }
rand = { version = "0.8.5", optional = true }
serde = {version = "1.0.143", features = ["derive"], optional = true }
hdf5 = { rev = "7eb87b800e2806fcd416e5f76dc16998bf311525", git = "https://github.com/aldanor/hdf5-rust", optional = true}
mpi = { version = "0.6", default-features = false, features = ["derive"], optional = true }
once_cell = { version = "1.13.0", optional = true }
derive_dimension = { path = "crates/derive_dimension" }
unit_system = { path = "crates/unit_system" }

[dev-dependencies]
serde_yaml = "0.9.9"
lazy_static = "1.4.0"